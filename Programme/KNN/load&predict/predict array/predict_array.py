# Predict_array.py
# Programm zum Test von veränderten personenspezifischen Daten
# Erstellt von Daniel Autenrieth

from numpy import loadtxt
from keras.models import load_model
import pickle
import numpy
import matplotlib.pyplot as pyplot
 
# load model
# Model wurde zwischen Softmax Und Relu&MSE variiert
model = load_model('model_softmax_1layer.h5')
# summarize model.
model.summary()

# Asthma Werte Person 1,65m 70 Jahre männlich
inp_arr = [[0.0, 0.002356461313868613, 0.009167602919708029, 0.02004606131386861, 0.034604472992700724, 0.05245547445255475, 0.07321170218978103, 0.09648579270072993, 0.12189038248175181, 0.14903810802919706, 0.17754160583941606,
0.20701351240875912, 0.23706646423357663, 0.267313097810219, 0.29736604963503654, 0.32683795620437955, 0.3553414540145985, 0.3824891795620438, 0.40789376934306565, 0.43116785985401457, 0.45192408759124086, 0.4697750890510948, 0.484333500729927, 0.4952119591240876, 0.5020231007299271, 0.5043715079311176, 0.46751458733735346, 0.4363555171635242, 0.4100134452145759, 0.3877436935598432, 0.36891670683971634, 0.35300025503301186, 0.3395443875656851, 0.3281687134206478, 0.319660638900121, 0.3099527447471219, 0.3003611121027081, 0.2908843486218285, 0.28152107863412346, 0.2722699429442285, 0.26312959863447044, 0.25409871886992597, 0.2451759927058154, 0.23636012489720223, 0.22764983571097228, 0.21904386074006502, 0.2105409507199281, 0.2021398713471722, 0.1938394031003955, 0.1856383410631556, 0.1775354947490604, 0.16952968792895495, 0.16161975846017576, 0.15380455811785285,
0.14608295242822944, 0.1384538205039795, 0.13091605488149713, 0.12346856136013354, 0.11611025884336142, 0.10884007918183913, 0.1016569670183562, 0.09455987963463523, 0.08754778679996769, 0.08061967062166354, 0.0737745253972911, 0.06701135746868721, 0.06032918507771506, 0.05372703822374993, 0.04720395852287129, 0.04075899906874171, 0.03439122429515127, 0.02809970984020892, 0.021883542412159125, 0.015741819656806953, 0.009673650026529652],\
    [0.0, 0.002356461313868613, 0.009167602919708029, 0.02004606131386861, 0.034604472992700724, 0.05245547445255475, 0.07321170218978103, 0.09648579270072993, 0.12189038248175181, 0.14903810802919706, 0.17754160583941606,
0.20701351240875912, 0.23706646423357663, 0.267313097810219, 0.29736604963503654, 0.32683795620437955, 0.3553414540145985, 0.3824891795620438, 0.40789376934306565, 0.43116785985401457, 0.45192408759124086, 0.4697750890510948, 0.484333500729927, 0.4952119591240876, 0.5020231007299271, 0.5043715079311176, 0.46751458733735346, 0.4363555171635242, 0.4100134452145759, 0.3877436935598432, 0.36891670683971634, 0.35300025503301186, 0.3395443875656851, 0.3281687134206478, 0.319660638900121, 0.3099527447471219, 0.3003611121027081, 0.2908843486218285, 0.28152107863412346, 0.2722699429442285, 0.26312959863447044, 0.25409871886992597, 0.2451759927058154, 0.23636012489720223, 0.22764983571097228, 0.21904386074006502, 0.2105409507199281, 0.2021398713471722, 0.1938394031003955, 0.1856383410631556, 0.1775354947490604, 0.16952968792895495, 0.16161975846017576, 0.15380455811785285,
0.14608295242822944, 0.1384538205039795, 0.13091605488149713, 0.12346856136013354, 0.11611025884336142, 0.10884007918183913, 0.1016569670183562, 0.09455987963463523, 0.08754778679996769, 0.08061967062166354, 0.0737745253972911, 0.06701135746868721, 0.06032918507771506, 0.05372703822374993, 0.04720395852287129, 0.04075899906874171, 0.03439122429515127, 0.02809970984020892, 0.021883542412159125, 0.015741819656806953, 0.009673650026529652]]

# Normale Werte Person 1,65 70 Jahre männlich
inp_arr.extend([[0.0, 0.002356461313868613, 0.009167602919708029, 0.02004606131386861, 0.034604472992700724, 0.05245547445255475, 0.07321170218978103, 0.09648579270072993, 0.12189038248175181, 0.14903810802919706, 0.17754160583941606,
0.20701351240875912, 0.23706646423357663, 0.267313097810219, 0.29736604963503654, 0.32683795620437955, 0.3553414540145985, 0.3824891795620438, 0.40789376934306565, 0.43116785985401457, 0.45192408759124086, 0.4697750890510948, 0.484333500729927, 0.4952119591240876, 0.5020231007299271, 0.5043795620437955, 0.47809389742793534, 0.4506201741114005, 0.4245995499495379, 0.3999551697913738, 0.37661424339383237, 0.35450783042669753, 0.33357063684876886, 0.31374082205378756, 0.29495981621651146, 0.27717214729944867, 0.2603252772092934, 0.24436944661912982, 0.22925752799806964, 0.21494488641422577, 0.2013892476998871, 0.18855057358950483, 0.1763909434616935, 0.16487444233595722, 0.15396705479332665, 0.14363656450758658, 0.13385245909034835, 0.12458583996891393, 0.11580933703074624, 0.10749702778243618, 0.09962436078439306, 0.09216808313511318, 0.08510617179084191, 0.07841776851777386, 0.07208311828466432, 0.06608351091388628, 0.06040122581859306, 0.05501947966276015, 0.04992237678951413, 0.04509486227133219, 0.04052267744344074, 0.0361923177890749, 0.03209099305220778, 0.028206589459938165, 0.02452763394295493, 0.021043260248399382, 0.017743176845035413, 0.01461763652593154, 0.011657407618872422, 0.008853746719466468, 0.006198372866412993, 0.0036834430826527846, 0.0013015292101594253, -0.0009544040300496047, -0.003091019817484706],\
    [0.0, 0.002356461313868613, 0.009167602919708029, 0.02004606131386861, 0.034604472992700724, 0.05245547445255475, 0.07321170218978103, 0.09648579270072993, 0.12189038248175181, 0.14903810802919706, 0.17754160583941606,
0.20701351240875912, 0.23706646423357663, 0.267313097810219, 0.29736604963503654, 0.32683795620437955, 0.3553414540145985, 0.3824891795620438, 0.40789376934306565, 0.43116785985401457, 0.45192408759124086, 0.4697750890510948, 0.484333500729927, 0.4952119591240876, 0.5020231007299271, 0.5043795620437955, 0.47809389742793534, 0.4506201741114005, 0.4245995499495379, 0.3999551697913738, 0.37661424339383237, 0.35450783042669753, 0.33357063684876886, 0.31374082205378756, 0.29495981621651146, 0.27717214729944867, 0.2603252772092934, 0.24436944661912982, 0.22925752799806964, 0.21494488641422577, 0.2013892476998871, 0.18855057358950483, 0.1763909434616935, 0.16487444233595722, 0.15396705479332665, 0.14363656450758658, 0.13385245909034835, 0.12458583996891393, 0.11580933703074624, 0.10749702778243618, 0.09962436078439306, 0.09216808313511318, 0.08510617179084191, 0.07841776851777386, 0.07208311828466432, 0.06608351091388628, 0.06040122581859306, 0.05501947966276015, 0.04992237678951413, 0.04509486227133219, 0.04052267744344074, 0.0361923177890749, 0.03209099305220778, 0.028206589459938165, 0.02452763394295493, 0.021043260248399382, 0.017743176845035413, 0.01461763652593154, 0.011657407618872422, 0.008853746719466468, 0.006198372866412993, 0.0036834430826527846, 0.0013015292101594253, -0.0009544040300496047, -0.003091019817484706]])

inp_arr[0].append(2/2) # Körpergröße
inp_arr[0].append(25/75) # Alter
inp_arr[0].append(1) # Geschlecht

inp_arr[1].append(1.65/2) # Körpergröße
inp_arr[1].append(70/75)
inp_arr[1].append(1)

inp_arr[2].append(1.65/2) # Körpergröße
inp_arr[2].append(25/75)
inp_arr[2].append(1)

inp_arr[3].append(1.65/2) # Körpergröße
inp_arr[3].append(70/75)
inp_arr[3].append(1)

# Klassifizierung
pred_arr = numpy.array(inp_arr[0]).reshape(1, 78)
pred = model.predict(pred_arr)
print('Vorhersage Asthma 2m , 25 Jahre',pred)

pred_arr2 = numpy.array(inp_arr[1]).reshape(1, 78)
pred = model.predict(pred_arr2)
print('Vorhersage Asthma 1,65m , 70 Jahre',pred)

pred_arr3 = numpy.array(inp_arr[2]).reshape(1, 78)
pred = model.predict(pred_arr3)
print('Vorhersage Normal 2m , 25 Jahre',pred)

pred_arr4 = numpy.array(inp_arr[3]).reshape(1, 78)
pred = model.predict(pred_arr4)
print('Vorhersage Normal 1,65m , 70 Jahre',pred)